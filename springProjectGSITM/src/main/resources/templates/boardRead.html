<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>게시글 조회</title>
    <link rel="stylesheet" href="/style.css">
</head>
<body>
    <h2>게시글 조회</h2>
    <div class="board-details">
        <p class="detail-item"><strong>번호:</strong> <span th:text="${board.Board_Num}"></span></p>
        <p class="detail-item"><strong>제목:</strong> <span th:text="${board.Title}"></span></p>
        <p class="detail-item"><strong>내용:</strong> <span th:text="${board.Board_Content}"></span></p>
        <p class="detail-item"><strong>생성일자:</strong> <span th:text="${#temporals.format(board.Create_Date, 'yyyy-MM-dd HH:mm')}"></span></p>
        <p class="detail-item"><strong>수정일자:</strong> <span th:text="${#temporals.format(board.Modify_Date, 'yyyy-MM-dd HH:mm')}"></span></p>
        <p class="detail-item"><strong>조회수:</strong> <span th:text="${board.Hit_Count}"></span></p>
        
        <!-- 버튼 그룹 -->
        <div class="button-container">
            <!-- 수정하기 버튼 -->
            <a th:href="@{/board/edit(id=${board.Board_Num})}" class="edit-button">수정하기</a>
            
            <!-- 삭제하기 버튼 -->
            <form th:action="@{/board/delete}" method="post" onsubmit="return confirm('정말로 삭제하시겠습니까?');">
                <input type="hidden" id="id" name="id" th:value="${board.Board_Num}">
                <button type="submit" class="delete-button">삭제하기</button>
            </form>

            <!-- 뒤로 가기 버튼 -->
            <a href="/board/list" class="back-button">뒤로 가기</a>
        </div>
		
		<!--해당 글에 댓글 보여지기		-->
		<div class="card my-3" th:each="comment: ${board.CommentsList}">
			<div class="card-body">
			<div class="card-text" style="white-space:pre-line;" th:text="${comment.Comments_Content}"></div>
			<div class="d-flex justify-content-end">
				<div class="badge bg-light text-dark p-2 text-start"> 
					<div th:text="${#temporals.format(comment.Create_Date, 'yyyy-MM-dd HH:mm')}"></div>		      
				</div>
			</div>
			</div>
		</div>

		
		<!-- 답변 작성-->
		<form th:action="@{|/comments/create/${board.Board_Num}|}" method="post" class="my-3">
			<textarea name="content" id="content" rows="10" class="form-control"></textarea>
			<input type="submit" value="댓글 등록" class="btn btn-primary my-2"> 
		</form>
    </div>
</body>
</html>
